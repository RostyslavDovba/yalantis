(this.webpackJsonpyalantis=this.webpackJsonpyalantis||[]).push([[0],{32:function(e,t,a){},39:function(e,t,a){},59:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(10),r=a.n(n),s=(a(32),a(3)),i=(a(39),a(7)),o=a.n(i),l=a(4),u=a(14),d=a(24),j=a.n(d),b="FETCH_USERS",m="SELECT_USER",f=a(27),h=(a(59),a(1)),p="active",O="not-active",v=function(e){var t=e.firstName,a=e.lastName,n=e.isActive,r=e.id,i=Object(c.useState)(window.localStorage.getItem(r)||n),l=Object(f.a)(i,2),d=l[0],j=l[1],b=Object(s.b)(),v=function(){var e;j(d===p?O:p),window.localStorage.setItem(r,d===p?O:p),b((e={id:r,isActive:d===p?O:p,firstName:t},function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object.entries(localStorage).forEach((function(e){return"not-active"===e[1]?window.localStorage.removeItem(e[0]):null})),a({type:m,payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))};return Object(h.jsxs)("div",{className:"person",children:[Object(h.jsx)("div",{className:"d-flex person-name ".concat(d===p?p:""),children:"".concat(t," ").concat(a)}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("label",{className:"d-flex person-name",children:[Object(h.jsx)("input",{type:"radio",checked:d===O,onChange:v}),"not active"]}),Object(h.jsxs)("label",{className:"d-flex person-name",children:[Object(h.jsx)("input",{type:"radio",checked:d===p,onChange:v}),"active"]})]})]})},N=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.users.users}));return Object(c.useEffect)((function(){e(function(){var e=Object(u.a)(o.a.mark((function e(t){var a,c,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 2:a=e.sent,c=a.data.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{isActive:window.localStorage.getItem(e.id)||"not-active"})})),n=Object.entries(localStorage).filter((function(e){return"active"===e[1]})).map((function(e){return e[0]})),r=c&&c.filter((function(e){return n.includes(e.id)})),t({type:b,payload:{data:c,birthdayList:r}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(h.jsxs)("div",{className:"employees",children:[Object(h.jsx)("h2",{className:"employees-title",children:"Employees"}),Object(h.jsx)("div",{className:"list-wr",children:"abcdefghijklmnopqrstuvwxyz".split("").map((function(e,a){var c=t&&t.filter((function(t){return t.firstName.charAt(0).toLowerCase()===e.toLowerCase()}));return Object(h.jsxs)("div",{className:"category",children:[Object(h.jsx)("div",{className:"category-letter",children:e.toUpperCase()}),Object(h.jsx)("div",{className:"category-people",children:c&&c.length?c.sort((function(e,t){return e.firstName<t.firstName?-1:e.firstName>t.firstName?1:0})).map((function(e){return Object(h.jsx)(v,{firstName:e.firstName,lastName:e.lastName,isActive:e.isActive,id:e.id},e.id)})):Object(h.jsx)("div",{className:"person-name",children:"No Employees"})})]},"el_".concat(a))}))})]})},y=(a(61),a(62),function(e){var t=e.firstName,a=e.lastName,c=e.birthday,n=new Date(c);return Object(h.jsx)("div",{className:"person-birthday",children:Object(h.jsx)("div",{children:"".concat(t," ").concat(a," - ").concat(n.getDate(),"\n      ").concat(x[n.getMonth()],", ").concat(n.getFullYear())})})}),x=["January","February","March","April","May","June","July","August","September","October","November","December"],g=x.slice((new Date).getMonth()).concat(x.slice(0,(new Date).getMonth())),w=function(){var e=Object(s.c)((function(e){return e.users.activeUsers}));return Object(h.jsxs)("div",{className:"birthday-list-wr",children:[Object(h.jsx)("h2",{children:"Employees birthday"}),Object(h.jsx)("div",{className:"birthday-list-wr",children:g&&g.length?g.map((function(t,a){var c=e&&e.filter((function(e){return x[new Date(e.dob).getMonth()]===t}));return Object(h.jsxs)("div",{className:"category-month",children:[Object(h.jsx)("div",{className:"month-name",children:t}),Object(h.jsx)("div",{className:"category-list",children:c&&c.length?c.sort((function(e,t){return e.lastName<t.lastName?-1:e.lastName>t.lastName?1:0})).map((function(e){return Object(h.jsx)(y,{lastName:e.lastName,firstName:e.firstName,birthday:e.dob},e.id)})):Object(h.jsx)("div",{children:"No Employees"})})]},"".concat(t,"_").concat(a))})):Object(h.jsx)("div",{children:"Employees List is empty"})})]})},E=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(N,{}),Object(h.jsx)(w,{})]})},S=a(5),_=a(25),A=a(26),k={activeUsers:[],users:[]},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(l.a)(Object(l.a)({},e),{},{users:t.payload.data,activeUsers:t.payload.birthdayList});case m:var a=Object.entries(localStorage).filter((function(e){return"active"===e[1]})).map((function(e){return e[0]})),c=e.users&&e.users.filter((function(e){return a.includes(e.id)}));return Object(l.a)(Object(l.a)({},e),{},{activeUsers:Object(A.a)(c)});default:return e}},D=Object(S.b)({users:C}),U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||S.c,L=Object(S.d)(D,U(Object(S.a)(_.a)));r.a.render(Object(h.jsx)(s.a,{store:L,children:Object(h.jsx)(E,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.1883a415.chunk.js.map